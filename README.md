# Сервер для кофейни

## Summary

Сегодня тебе предстоит разработать сервер для приложения кофейни.

Фронтендеры уже написали интерфейс для приложения и ждут, пока будет готов сервер.

Приложение позволяет просматривать список доступных напитков и их цену. В приложении три экрана.

**Главный экран.** На нем выводится список всех доступных напитков.

**Экран информации.** На этом экране выводится подробная информация о напитке.

**Доступные напитки.** Данный экран выводит список только из напитков, которые есть в наличии.

Также в приложении есть часть админа, из которой можно добавлять, удалять и изменять напитки.

Фронтендеры отправили нам небольшое техническое задание, в котором описаны ожидания от нашего сервера.

## Техническое задание

### Эндпоинты

На сервере должны быть реализованы следующие [эндпоинты](https://wp-kama.ru/handbook/rest/basic#routes-endpoints):

`GET /drinks` – список всех напитков  
`GET /drinks/in-stock` – список всех напитков, которые есть в наличии  
`GET /drinks/:id` – подробная информация о конкретном напитке  
`POST /drinks` – добавление нового напитка  
`DELETE /drinks/:id` – удаление конкретного напитка  
`PATCH /drinks/:id` – изменение конкретного напитка  

Каждый напиток должен содержать следующую информацию:

- Название
- Цена
- Есть ли напиток в наличии
- Содержит ли напиток кофеин
- Объем
- Описание напитка

При запросе списка напитков необходимо вывести только поля `идентификатор`, `название`, `цена`.

При запросе одного конкретного напитка нужно вывести всю информацию.

### Обработка ошибок

Если вдруг какая-то операция на сервере провалилась он должен вернуть JSON-объект, содержащий ключ `error` с описанием ошибки. Например: 

```json
{ "error": "Ошибка при добавлении нового напитка" }
```

## Releases

### Release 0: проектирование архитектуры

В данном релизе нет кода. Тебе просто нужно подумать о том, каким будет структура сервера.

Подумай над тем, какие нужны модели, роуты и контроллеры.

Какие поля должна содержать модель, чтобы она отвечала требованиям технического задания?

Мысленно пройдись по всему будущему проекту – от файла `index.js` до файла контроллера. Что каждый из них должен содержать?

Когда тебе покажется, что ты предусмотрел все аспекты приступай к следующему релизу.

### Release 1: скелет сервера

Создай новый проект и установи нужные библиотеки. Пропиши весь необходимый код в файле `index.js`. Создай заранее остальные нужные проекту файлы и папки.

### Release 2: модель

Всё на нашем сервере завязано вокруг модели. Невозможно написать роуты и контроллеры и не имея нужной модели. Поэтому начни разработку с создания нужной модели (или нескольких моделей?).

### Release 3: роуты и контроллеры

Теперь у тебя все готово, чтобы выполнить техническое задание. Вернись в начало челленджа и вспомни какие нужны были эндпоинты и приступи к их разработке.

Код готового сервера выгрузи на GitHub.
